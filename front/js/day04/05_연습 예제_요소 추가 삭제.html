<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <h1>존경하는 위인 추가하고 삭제하기</h1>
  <form action="" id="form">
    <input type="text" id="input">
    <button type="submit">등록</button>
  </form>
  <ul class="list">
    <li>
      <span>이순신</span>
      <button class="btn-del">X</button>
    </li>
  </ul>
  <script>
    /* 위인을 등록하고, X버튼을 누르면 삭제되는 코드를 구현 */

    const btn = document.querySelector("button");
    const input = document.querySelector("#input")
    const form = document.querySelector("#form")
    const list = document.querySelector(".list")


    form.onsubmit = (e) => e.preventDefault();
    form.addEventListener("submit", (e) => e.preventDefault());  
  
    btn.addEventListener("click", addItem);

    function addItem(e){
      //입력된 위인명을 가져옴 => input 요소의 value값을 가져옴(표준 속성)
      let text = input.value.trim();

      if(text == ""){
        alert("위인명을 입력하세요");
        input.value = ""   //공백을 입력했을때 다시 공백이 삭제되도록
        return
      }
      
      // li태그로 된 요소를 생성. 요소.createElement(태그명)
      let li = document.createElement("li")

      //span태그를 생성
      let span = document.createElement("span")

      // 위에서 가져온 위인명을 이용하여 textNode를 생성
      let textNode = document.createTextNode(text);

      span.append(textNode);
      li.append(span);



      let button = document.createElement("button");
      let btnTextNode = document.createTextNode("X");

      button.append(btnTextNode);
      button.classList.add("btn-del");

      //텍스트 노드를 li태그에 추가
            
      li.append(button);
      
      
      //list에 위에서 만든 문자열을 이어 붙임
      list.append(li);
      input.value = ""

    }

    // X버튼을 클릭하면 버블링에 의해 ul태그에 클릭 이벤트가 발생됨
    list.addEventListener("click", function(e){
      let el = e.target; //이벤트가 발생한 요소를 el에 저장
      // 이벤트가 발생한 요소에 btn-del클래스가 있으면 => X버튼을 누르면
      if(el.classList.contains("btn-del")){
        el.parentElement.remove()
      }
    });
  
  </script>
</body>
</html>